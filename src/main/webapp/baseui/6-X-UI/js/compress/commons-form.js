(function(b,h){var j={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0};b._fixIframe=function(d){b("<iframe id='blankIframe' name='blankIframe' style='position:absolute;z-index:-1;filter:alpha(opacity=0);' frameborder='no' border='0' "+(/msie 8/i.test(navigator.userAgent)?"src='javascript:false;'":"")+"></iframe>").css({width:/msie 6/i.test(navigator.userAgent)?d.css("width"):"100%",height:/msie 6/i.test(navigator.userAgent)?d.css("height"):"100%",top:0,left:0}).appendTo(d)};
b.widget("hk.pop",{options:{popClass:"pop",modal:!0,overlayTrans:0.5,overlayClass:"pop_overlay",wrap:null,content:null,leaveClose:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(d){var f=b(this).css(d).offset().top;f<0&&b(this).css("top",d.top-f)}},closeDestroy:!1,leaveclose:!1,leavecloseTM:200,reserve:!0,width:500,height:"auto",minHeight:150,iframeFix:!0,show:"fade",stack:!0,zIndex:1E3,autoOpen:!0,draggable:!1,dragHandle:".popTitle"},_create:function(){this.initPopup()},
initPopup:function(){var d=this.options,f=this.element,c;this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.wrap=c=(this.wrap||b("<div>")).attr("tabIndex",-1).appendTo("body").addClass(d.popClass).addClass(d.type).css({display:"none",zIndex:d.zIndex,"box-sizing":"border-box"});this.content=(this.content||c).append(f.show());this.wrap.css({width:d.width,height:d.height});d.draggable&&b.fn.draggable&&this.drag();d.iframeFix&&!d.modal&&b._fixIframe(this.wrap);
this.bindEvent();this._isOpen=!1;this.element.data("pop")||this.element.data("pop",this.element.data(this.widgetName))},widget:function(){return this.wrap},_init:function(){this.options.autoOpen&&this.open()},drag:function(){function d(b){return{position:b.position,offset:b.offset}}var f=this,c=this.options;this.wrap.draggable({handle:this.options.dragHandle,iframeFix:this.options.iframeFix,containment:"document",start:function(c,a){b(this).addClass("pop-dragging");f._trigger("dragStart",c,d(a))},
drag:function(b,a){f._trigger("drag",b,d(a))},stop:function(i,a){c.position=[a.position.left-f.document.scrollLeft(),a.position.top-f.document.scrollTop()];b(this).removeClass("pop-dragging");f._trigger("dragStop",i,d(a))}})},_position:function(d){var f={of:window,collision:this.options.positionCollision};b.isPlainObject(d)?d=b.extend(f,d):b.isArray(d)?typeof d[0]=="string"&&typeof d[1]=="string"?(d=d.join(" "),d=b.extend(f,{my:d,at:d})):d=d[0].constructor==Number&&d[1].constructor==Number?b.extend(f,
{of:document,my:"left top",at:"left top",offset:d[0]+" "+d[1]}):["center","center"]:typeof d==="string"?/-/.test(d)&&(d=d.split("-"),d=/top|bottom/.test(d[0])||/left|right/.test(d[1])?b.extend(f,{my:d[1]+" "+d[0],at:d[1]+" "+d[0]}):b.extend(f,{my:d[0]+" "+d[1],at:d[0]+" "+d[1]})):d=["center","center"];b.isPlainObject(d)&&((f=this.wrap.is(":visible"))||this.wrap.show(),this.wrap.css({top:0,left:0}).position(d),f||this.wrap.hide())},_close:function(d){var f,c=this,i;if(this._isOpen){var a=this.options;
if(this._trigger("beforeClose",d,this.wrap)===!1)return!1;this.modal&&b.overlay.destroy(this.modal);f=0;b(".popWrap").each(function(){this!==c.wrap[0]&&(i=b(this).css("z-index"),isNaN(i)||(f=Math.max(f,i)))});b.hk.pop.maxZ=f;d=b.isFunction(d)?d:function(){};this.wrap.hide();d();try{a.afterclose&&a.afterclose()}catch(e){}this._isOpen=!1;this._trigger("close")}},close:function(){this.clearCloseTM();window==top&&b.isOcx&&b.isOcx.needModal()&&document.getElementById("mainFrame")&&document.getElementById("mainFrame")&&
b.isOcx.removeModal(document.getElementById("mainFrame").contentWindow);if(this.options.closeDestroy)return this.destroy();this._close()},destroy:function(){for(var d=this,f=this.options,c=0,i=openPopWinOptList.length;c<i;c++)f.msg==openPopWinOptList[c].msg&&f.level==openPopWinOptList[c].level&&f.title==openPopWinOptList[c].title&&openPopWinOptList.splice(c,1);this._close(function(){b.Widget.prototype.destroy.apply(d,arguments);/msie 8/i.test(navigator.userAgent)&&d.wrap.find("iframe").not("#blankIframe").attr("src",
"about:_blank");d.wrap.remove()})},_destroy:function(){var b,f=this.oldPosition;this.originalTitle&&this.element.attr("title",this.originalTitle);!this.options.iframeSrc&&!this.options.ajax&&!this.options.closeDestroy&&(this.element.hide().appendTo("body"),b=f.parent.children().eq(f.index),b.length&&b[0]!==this.element[0]?b.before(this.element):f.parent.append(this.element))},clearCloseTM:function(){clearTimeout(this.leaveTM);this.leaveTM=null},open:function(){var d=this.options,f=this,c;if(!this._isOpen){if(d.autoclose)this.wrap.one("mousemove.pop",
function(){f.clearCloseTM();f.wrap.one("mouseleave.pop",function(){f.leaveTM=setTimeout(function(){f.close()},d.autoclose)})});this._size();this._position(d.position);this.show();this.modal=d.modal&&openPopWinOptList.length==0?b.overlay.create(d):null;this.moveToTop(!0);c=this.element.find(":tabbable");if(!c.length&&(c=this.element.find(":tabbable"),!c.length))c=this.wrap;c.eq(0).focus()}},_size:function(){var d=this.options,f,c;this.element.show().css({width:"auto",minHeight:0,height:0});f=this.wrap.css({height:"auto",
width:d.width}).outerHeight();c=Math.max(0,d.minHeight-f);d.height==="auto"?b.support.minHeight?this.element.css({minHeight:c,height:"auto"}):(this.wrap.show(),d=this.element.css("height","auto").height(),this.element.height(Math.max(d,c))):this.element.height(Math.max(d.height-f,0))},show:function(){var d=this.options,f=this,c;c=function(){f._isOpen=!0;f._trigger("open",f.wrap,f)};window==top&&b.isOcx&&b.isOcx.needModal()&&document.getElementById("mainFrame")&&document.getElementById("mainFrame")&&
b.isOcx.createModal(document.getElementById("mainFrame").contentWindow);/msie 8|7|6/i.test(navigator.userAgent)?(this.wrap.show(),c()):b.effects&&((isObj=b.isPlainObject(d.show))||typeof d.show==="string")?isObj?this.wrap.show(d.show.effect||"fade",d.show,d.show.duration||500,c):this.wrap.show(d.show,{},500,c):(this.wrap.show(),c())},moveToTop:function(d,f){var c=this.options;if(c.modal&&!d||!c.stack&&!c.modal)return this._trigger("focus",f);if(c.zIndex>b.hk.pop.maxZ)b.hk.pop.maxZ=c.zIndex;this.modal&&
(b.hk.pop.maxZ+=1,this.modal.css("z-index",b.hk.pop.maxZ));c={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()};b.hk.pop.maxZ+=1;this.wrap.css("z-index",b.hk.pop.maxZ);this.element.attr(c);this._trigger("focus",f);return this},bindEvent:function(){var b=this;this.wrap.on("click","[close],[data-close]",function(){b.close();return!1})}});b.overlay={instances:[],create:function(d){var f=this,c;this.instances.length===0&&b(window).bind("resize.overlay",function(){f.resize()});c=
b("<div></div>").appendTo("body").addClass(d.overlayClass).css({width:f.width(),height:f.height(),zIndex:d.zIndex-1});this.fixOverlayTrans(c,d);d.iframeFix&&b._fixIframe(c);this.instances.push(c);return c},fixOverlayTrans:function(b,f){f.overlayTrans!==1&&/msie 8/i.test(navigator.userAgent)?b.css("filter","alpha(opacity="+f.overlayTrans*100+")"):b.css("opacity",f.overlayTrans)},destroy:function(d){this.instances.splice(b.inArray(this.instances,d),1);this.instances.length===0&&b(window).unbind(".overlay");
d.remove()},height:function(){var b=document,f=b.body,b=b.documentElement;return Math.max(Math.max(f.scrollHeight,b.scrollHeight),Math.max(f.clientHeight,b.clientHeight))},width:function(){var b=document,f=b.body,b=b.documentElement;return Math.max(Math.max(f.scrollWidth,b.scrollWidth),Math.max(f.clientWidth,b.clientWidth))},resize:function(){var d=this;b.each(this.instances,function(){b(this).css({width:0,height:0}).css({width:d.width(),height:d.height()})})}};b.extend(b.hk.pop,{uuid:0,maxZ:0});
b.widget("hk.popWin",b.hk.pop,{options:{popClass:"popWin",modal:!0,overlayTrans:0.25,closeText:"close",closeButton:!0,title:"",draggable:!1,buttonDefaultClass:"buttonM bDefault",buttons:[]},_create:function(){var b=this.options,f,c;this.wrap||this.createHTML();this._createButtons(b.buttons);f=this.wrap.find(".popTitle h3");c=this.wrap.find(".popClose");f.html(b.title||this.element.attr("title"));b.closeButton?c.html(b.closeText):c.hide();!b.title&&!b.closeButton&&f.parent().hide();this._super()},
_createButtons:function(d){var f=this;this.button.empty();b.isArray(d)&&d.length>0||typeof d==="object"&&d!==null?b.each(d,function(c,d){var a=f.options.maybeRefresh,e,d=b.isFunction(d)?{click:d,text:c}:d,d=b.extend({type:"button"},d);e=a?d.click.toString():d.click;var k=f.options.id==null?window:window.frames[f.options.id],k=k||window;if(k.$&&(k=k.$,k.callback))k=k.callback;d.click=typeof e==="string"?function(){var a=new f.options.originalPage.Function("return ("+e+").apply(this, arguments)");try{a.call(f,
f,k,f.element[0])}catch(b){}}:function(){e.call(f,f,k,f.element[0])};b("<button></button>",d).appendTo(f.button)}):this.button.hide()},_setOptions:function(d){var f=this,c=!1;b.each(d,function(b,a){f._setOption(b,a);b in j&&(c=!0)});c&&this._size();this.wrap.is(":data(resizable)")},_setOption:function(b,f){var c=this.wrap;switch(b){case "buttons":this._createButtons(f);break;case "disabled":f?c.addClass("ui-dialog-disabled"):c.removeClass("ui-dialog-disabled");break;case "position":this._position(f);
break;case "title":this.wrap.find(".popTitle h3").html(""+(f||"&#160;"))}this._super(b,f)},createHTML:function(){this.wrap=b(this.popWinTeml());this.content=this.wrap.find(".popContent");this.button=this.wrap.find(".popButton")},popWinTeml:function(){var b=this.options.dialogClass!==h?this.options.dialogClass:"",f=/msie 8/i.test(navigator.userAgent)&&this.options.modal?"":'style="border: 1px solid #e4e4e4; -moz-border-radius: 3px; -webkit-border-radius: 3px; border-radius: 3px;"';return'<div class="popWrap '+
b+'" '+f+'><div class="popInner"><div class="popTitle"><a class="popClose" href="javascript:void(0)" close></a><h3></h3></div><div class="popContent"><div class="popContentbg"></div></div><div class="popButton" ></div></div></div>'}});b.widget("hk.popTips",b.hk.popWin,{options:{popClass:"popTips",tipsType:"top",tipsTarget:null,offset:5,show:!1,modal:!1,isBindLeave:!0,isUpdataMsg:!0,isarrow:!0,draggable:!1,arrow:"left",width:"auto",autoOpen:!1,closeButton:!1,showTipsClose:!1,positionCollision:"none"},
_create:function(){var d=this.options,f=this;this.target=this.element;this.element=b("<span>");this.updataMsg();this.createHTML();d.isarrow&&b("<i><b></b></i>").addClass("tips").prependTo(this.wrap);d.isBindLeave&&this.target.bind("mouseenter",function(){f.open()}).bind("mouseleave",function(){f.close()});b.hk.popWin.prototype._create.apply(this)},updataMsg:function(){this.element.html(this.target.data("msg"))},updataTipsType:function(){var b=this.options,f=this.target.data("position")||b.tipsType;
this.wrap.removeClass("popTips-"+b.tipsType).addClass("popTips-"+f);return b.tipsType=f},open:function(){this.options.isUpdataMsg&&this.updataMsg();b.hk.popWin.prototype.open.call(this)},_position:function(){var d=this.options,f=d.position,c=this.updataTipsType(),i=d.offset;if(!b.isPlainObject(f)){switch(c){case "top":f="bottom";break;case "bottom":f="top";break;case "right":f="top";break;case "left":f="top";break;default:c="top",f="bottom"}d.position={of:this.target,my:(c=="left"?"right":"left")+
" "+f,at:(c=="right"?"right":"left")+" "+(c=="bottom"?"bottom":"top"),offset:(c=="top"||c=="bottom"?"0":c=="left"?-i:i)+" "+(c=="left"||c=="right"?"0":c=="top"?-i:i)}}b.hk.popWin.prototype._position.call(this,d.position)}})})(jQuery);
(function(b){b.widget("hk.popover",{options:{placement:"right",title:"",content:"",width:280,classTitle:"",classContent:""},_create:function(){var b=this;this.element.on("click",function(){b.tip?(b.tip.remove(),b.tip=null):(b.createHTML(),b.position(),b.tip.delegate(".popover1-close","click",function(){b.tip.remove();b.tip=null;return!1}))})},position:function(){var h,j,d,f,c,i,a,e;j=this.tip;j.css({top:0,left:0,display:"block"});f=this.getElementPos(this.element);d=f.top;f=f.left;c=this.element.outerWidth();
i=this.element.outerHeight();a=j.outerWidth();e=j.outerHeight();switch(this.options.placement){case "bottom":h={top:d+i,left:f+c/2-a/2};break;case "top":h={top:d-e,left:f+c/2-a/2};break;case "left":h={top:d+i/2-e/2,left:f-a};break;case "right":h={top:d+i/2-e/2,left:f+c}}if(h.top<=0)h.top=1;if(h.left<=0)h.left=1;if(h.left>=b(document).width()-a)h.left=b(document).width()-a-1;j.offset(h)},createHTML:function(){var h=[],j;j=this.getTitle();h.push('<div class="popover1 '+this.options.placement+'" style="z-index:201"><div class="arrow"></div>');
h.push('<div class="popover1-inner" style="width:'+this.options.width+'px"><a href="#" class="popover1-close" role="button"><span>close</span></a>');h.push('<h3 class="popover1-title '+this.options.classTitle+'">'+j+'</h3><div class="popover1-content '+this.options.classContent+'">'+this.getContent()+"</div></div></div>");this.tip=b(h.join("")).appendTo("body");j||this.tip.find(".popover1-title").css("display","none")},getTitle:function(){var b=this.element;return this.options.title||b.attr("data-original-title")},
getContent:function(){var b=this.element;return this.options.content||b.attr("data-content")||""},getElementPos:function(b){var j={top:0,left:0},b=b.offset();j.top+=b.top;j.left+=b.left;return j}})})(jQuery);
(function(b,h){var j={popClass:"popPrompt",autoOpen:!0,closeDestroy:!0,reserve:!1,show:!1,width:360,height:"auto",closeButton:!1,type:["ok","error","stop","question","notice","attention","tips","alarm"]},d={defaultTitle:language.text("dialog.info"),defaultLevel:"attention",okbutton:language.text("dialog.ok"),okclass:"buttonM bBlue",cancelclass:"buttonM bDefault",cancelbutton:language.text("dialog.cancel"),defaultTempl:'<div class="popMsg"><i class="pop_icon"></i><div class="popMsgContent"></div></div>',
defaultPromptTempl:'<div class="popPromptMsg"><span></span><br/><input type="text" id="popup_prompt" class="auto-input"  /></div>',defaultPromptValue:language.text("dialog.input")},f={popClass:"popSticky",autoOpen:!0,closeDestroy:!0,reserve:!1,show:"slide",speed:"fast",width:360,modal:!1,height:"auto",minHeight:93,autoclose:2E3,closeButton:!0,type:["ok","error","stop","question","notice","attention","tips","alarm"],html:!1},c={defaultTempl:'<div class="popMsg"><i class="pop_icon"></i><div class="popMsgContent"><h5></h5><p></p></div></div>'},
i=function(a){a=h.isPlainObject(a)?a:{};!h.isFunction(a.callback)&&(a.callback=function(){});a.title==null&&(a.title=d.defaultTitle);a.level==null&&(a.level=d.defaultLevel);return a=h.extend(!0,{},j,a)},a=function(a){var b,e=a.html?a.html.find("#popup_prompt"):{};a.buttons=[{text:d.okbutton,"class":d.okclass,click:function(){this.close();e.length?a.callback.call(this,e.val()):a.callback.call(this,!0)}}];a.isCancelButton&&a.buttons.push({text:d.cancelbutton,"class":d.cancelclass,click:function(){this.close();
e.length?a.callback.call(this,!1):a.callback.call(this,null)}});a.html?b=a.html:(b=h(d.defaultTempl),b.find(".pop_icon").addClass(a.level),b.find(".popMsgContent").html(a.msg));b.popWin(a)},e=function(a,b,e,c,k){if(h.isPlainObject(a))return a;var d={};d.msg=a;if(h.isPlainObject(b))k=b;else if(h.isPlainObject(e))k=e,h.isFunction(b)?c=b:e=b,b=null;else if(h.isFunction(b))c=b,b=null;else if(h.isFunction(e))k=c,c=e,e=b,b=null;else if(e==null&&typeof b=="string")e=b,b=null;else if(h.isPlainObject(c))k=
c,c=k.callback;d.title=typeof b=="string"&&b||(k?k.title:null);d.level=typeof e=="string"&&e||(k?k.level:null);d.callback=k?k.callback||null:c;d.afterclose=k?k.afterclose||null:null;d.afteropen=k?k.afteropen||null:null;(d.options=k)&&k.type&&(d.type=k.type);return d},k={jAlert:function(b,c,k,d){d=i(e(b,c,k,d));a:{for(var f=openPopWinOptList.length,h=0;h<f;h++)if(b==openPopWinOptList[h].msg&&c==openPopWinOptList[h].title&&k==openPopWinOptList[h].level){b=!0;break a}b=!1}b||(a(d),openPopWinOptList&&
openPopWinOptList.push({msg:d.msg,title:d.title,level:d.level}))},jConfirm:function(b,c,k){b=i(e(b,c,"question",k));b.level="question";b.isCancelButton=!0;a(b)},jPrompt:function(b,c,k,f){b=i(e(b,k,"attention",f));b.isCancelButton=!0;b.html=h(d.defaultPromptTempl);b.value=c||b.value;b.html.find("span").html(b.msg);b.html.find("input").val(b.value||d.defaultPromptValue);a(b)},jSticky:function(a,b,k,d,i){var j=h(c.defaultTempl),o=e(a,b,k,d,i)||{},o=h.extend({},o,o.options),b=o.title,k=o.level?o.level:
o.type||"attention",a=j.find("i"),d=j.find("h5"),i=j.find("p");o.afterclose=o.afterclose||o.callback;if(o.html)j=h(o.message);else{delete o.title;if(!Array.prototype.indexOf)Array.prototype.indexOf=function(a,b){var e=this.length>>>0,c=Number(b)||0,c=c<0?Math.ceil(c):Math.floor(c);for(c<0&&(c+=e);c<e;c++)if(c in this&&this[c]===a)return c;return-1};k&&f.type.indexOf(k)>-1?(a.addClass(k),j.addClass("popSticky-icon")):a.hide();b?d.html(b):d.hide();i.html(o.msg||o.message)}j.popWin(h.extend(!0,{},f,
o,{open:function(a,b){var e=b.options;if(e.autoclose)b.leaveTM=setTimeout(function(){b.close()},e.autoclose);o.open&&o.open.call(this,a,b);try{e.afteropen&&e.afteropen.call(this,e)}catch(c){}}}))}};h.alerts=h.alerts||{};h.extend(b,k);h.extend(h.alerts,{alert:k.jAlert,confirm:k.jConfirm,prompt:k.jPrompt});h.sticky=k.jSticky})(window,jQuery);var openPopWinOptList=[];
(function(b,h){var j={ifrHTML:'<div class="dialog" name="{id}" parentSrc="{href}" style="padding:0;overflow:hidden;"><div class="loading-overlay"><div class="loading-m"><i></i><span>\u6b63\u5728\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u540e...</span></div><div class="shadow"></div></div><iframe src="{src}" dialogIframe="true" id="{id}" name = "{id}" target="_self" frameborder="0" scrolling="auto" class="autoIframe dialog-frame"></iframe></div>',ajaxHTML:'<div class="dialog" id="{id}"></div>',treeResHTML:'<div class="dialog" id="{id}"><div class="dualBoxes clearfix"> <div class="leftBox"><h6>'+
language.text("dialog.alternateRes")+'</h6><div class=""><ul id="{treeId}" class="ztree"></ul></div></div><div class="dualControl">  <p><a id="btn-camera-sel" class="buttonS bDefault" href="javascript:void(0);">'+language.text("add")+' &gt;</a></p> <p><a id="btn-camera-unsel" class="buttonS bDefault" href="javascript:void(0);">&lt; '+language.text("delete")+'</a></p> </div><div class="rightBox"><h6>'+language.text("dialog.selectedRes")+'</h6><div class="datatable"> <table id="{listId}" cellspacing="0" cellpadding="0" width="100%" class="tLight checkAll"> <thead><tr><td> <span class="check"> <input id="checkAll" type="checkbox"></span></td> <td>'+
language.text("dialog.resourceName")+"</td> </tr></thead><tbody></tbody></table></div></div></div></div>",parseStr:function(b,f){return b.replace(/{([^}]*)}/g,function(b,d){return f[d]||""})},run:function(b){var f=b.close,c=b.el,b=h.extend(!0,{autoOpen:!0,modal:!0,resizable:!1,targetPage:window,width:500},b,{close:function(){f&&f.call(this,b);c.remove()}});return c.popWin(b)}};b.popWin=function(b){var b=b||{},f=h("base").attr("href")||"",c,i,a;if(c=b.iframeSrc)i=(/^\/|^https?\:\/\//i.test(c)?"":f)+
c,i=/\?/gi.test(i)?i+"&isDialog=true":i+"?isDialog=true&time="+new Date,b.iframeSrc=i,a=h(j.parseStr(j.ifrHTML,{id:b.id,href:c,src:""})).appendTo("body"),a.find("iframe").on("load",function(){a.find(".loading-overlay").hide()});else if(b.ajax&&b.ajax.url){i=b.ajax.url;i=(/^\/|^https?\:\/\//i.test(i)?"":f)+i;a=h(j.parseStr(j.ajaxHTML,{id:b.id}));var e=b.ajax.success;b.ajax.success=function(){var b=e&&e.apply(this,arguments);typeof b==="string"&&b.charAt(0)==="<"&&b.charAt(b.length-1)===">"&&b.length>=
3&&a.empty().append(b);return b};a.load(b.ajax.url,b.ajax.data||{},b.ajax.success);a.ajaxSuccess(function(a,b){if(b.status==200){var e=b.getResponseHeader("is-refresh"),c=b.getResponseHeader("in-login"),d=b.getResponseHeader("refresh-url");if(e=="1"||e==1||c=="1"||c==1)if(d==null||d=="")window.location.reload();else try{d=decodeURI(d),top.location.href=d}catch(i){window.location.reload()}}})}else if(b.el)a=b.el[0]?h(b.el[0].outerHTML):h([]),a.appendTo("body");else if(b.buildInType=="treeResHTML")a=
h(j.parseStr(j[b.buildInType],{id:b.id,treeId:b.treeId,listId:b.listId})).appendTo("body");else return;b.el=a;b=j.run(b);c&&a.find("iframe").attr("src",i);return b};b.dialog=function(d){d=h.extend(d,{dialogClass:"pop-dialog"});typeof b.popWin==="function"?b.popWin(h.extend(d,{originalPage:b,originalHref:location.href})):b.popWin(d)};h.fn.dialog=function(b){typeof b!=="string"&&(b=h.extend(b,{dialogClass:"pop-dialog"}));return this.popWin.apply(this,arguments)};h.extend({dialog:function(b){b=h.extend(b,
{dialogClass:"pop-dialog"});if(!b.id||!h("#"+b.id).length)return h.extend(b||{},{closeDestroy:!0}),b.displayCtx&&typeof b.displayCtx.popWin==="function"?b.displayCtx.popWin(h.extend(b,{originalPage:b.displayCtx,originalHref:b.displayCtx.location.href})):typeof top.popWin==="function"?top.popWin(h.extend(b,{originalPage:window,originalHref:location.href})):window.popWin(b)},buildInDialog:function(b){h.extend(b||{},{height:550,width:600});var f=h.dialog(b),c=h("#"+b.treeId).tree(b.treeSettings),i;h("#btn-camera-sel").on("click",
function(){c=h("#"+b.treeId).tree();i=c.getCheckedNodes(!0);if(i.length)for(var a=0,e=i.length;a<e;a++)i[a].extra&&i[a].extra.type=="res"&&(c.hideNode(i[a]),h("#"+b.listId).find("tbody").append('<tr><td><span class="check"><input data-id="'+i[a].id+'" type="checkbox"></span></td><td>'+i[a].label+"</td></tr>"));return!1});h("#btn-camera-sel").on("click",function(){c=h("#"+b.treeId).tree();i=c.getCheckedNodes(!0);if(i.length)for(var a=0,e=i.length;a<e;a++)i[a].extra&&i[a].extra.type=="res"&&(c.hideNode(i[a]),
h("#"+b.listId).find("tbody").append('<tr><td><span class="check"><input data-id="'+i[a].id+'" type="checkbox"></span></td><td>'+i[a].label+"</td></tr>"));return!1});h("#btn-camera-unsel").on("click",function(){h("#"+b.listId).find("tbody input:checked").each(function(){h(this).attr("data-id");c=h("#"+b.treeId).tree();h(this).closest("tr").remove();var a=c.getNodeById(h(this).attr("data-id"));c.showNode(a);c.checkNode(a,!1,!1)}).length||jAlert(language.text("dialog.deleteMessage"),language.text("dialog.info"),
"attention")});return f},sticky:function(b,f,c,i,a){jSticky(b,f,c,i,a)}})})(window,jQuery);
(function(b){b.fn.xBreadcrumbs=function(h){function j(){f.children("LI").children("UL").each(function(){b(this).hide();b(this).parent().removeClass("hover")})}function d(c,d){d?(c.parent().addClass("hover"),b.browser.msie&&c.parent().position(),h.showSpeed!=""?c.fadeIn(h.showSpeed):c.show()):(c.parent().removeClass("hover"),h.hideSpeed!=""?c.fadeOut(h.hideSpeed):c.hide())}var f=b(this),h=b.extend({},b.fn.xBreadcrumbs.defaults,h);(function(){if(h.collapsible){var c=f.children("LI").length;f.children("LI").children("A").css("white-space",
"nowrap").css("float","left");f.children("LI").children("A").each(function(d){d!=c-1&&(b(this).css("overflow","hidden"),b(this).attr("init-width",b(this).width()),b(this).width(h.collapsedWidth))})}f.children("LI").mouseenter(function(){if(!b(this).hasClass("hover")&&(j(),b(this).children("UL").length>0)){var c=b(this).children("UL");c.length&&window==top&&b.isOcx&&b.isOcx.needModal()&&b.isOcx.createModal(document.getElementById("mainFrame").contentWindow);d(c,!0);b.fn.bgiframe&&b(c).bgiframe();h.collapsible&&
!b(this).hasClass("current")&&(c=b(this).children("A").attr("init-width"),b(this).children("A").animate({width:c},"normal"))}});f.children("LI").mouseleave(function(){var c=b(this).children("UL");c.length&&window==top&&b.isOcx&&b.isOcx.needModal()&&b.isOcx.removeModal(document.getElementById("mainFrame").contentWindow);d(c,!1);h.collapsible&&!b(this).hasClass("current")&&b(this).children("A").animate({width:h.collapsedWidth},"fast")})})()};b.fn.xBreadcrumbs.defaults={showSpeed:"fast",hideSpeed:"",
collapsible:!1,collapsedWidth:10}})(jQuery);
(function(b,h,j){function d(a){return a}function f(a){return decodeURIComponent(a.replace(c," ").replace(i,""))}var c=/\+/g,i=/\"/g,a=b.cookie=function(e,c,g){if(c!==j){g=b.extend({},a.defaults,g);if(c===null)g.expires=-1;if(typeof g.expires==="number"){var i=g.expires,l=g.expires=new Date;l.setDate(l.getDate()+i)}c=a.json?JSON.stringify(c):String(c);return h.cookie=[encodeURIComponent(e),"=",a.raw?c:encodeURIComponent(c),g.expires?"; expires="+g.expires.toUTCString():"",g.path?"; path="+g.path:"",
g.domain?"; domain="+g.domain:"",g.secure?"; secure":""].join("")}c=a.raw?d:f;g=h.cookie.split("; ");i=0;for(l=g.length;i<l;i++){var u=g[i].split("=");if(c(u.shift())===e)return e=c(u.join("=")),a.json?JSON.parse(e):e}return null};a.defaults={};b.removeCookie=function(a,c){if(b.cookie(a)!==null)return b.cookie(a,null,c),!0;return!1}})(jQuery,document);
(function(b,h){function j(a){var b=Array.prototype.slice.call(arguments,1);if(a.prop)return a.prop.apply(a,b);return a.attr.apply(a,b)}function d(a,b,e){for(var c in e)e.hasOwnProperty(c)&&(c.replace(/ |$/g,b.eventNamespace),a.bind(c,e[c]))}function f(a,b,e){d(a,e,{focus:function(){b.addClass(e.focusClass)},blur:function(){b.removeClass(e.focusClass);b.removeClass(e.activeClass)},mouseenter:function(){b.addClass(e.hoverClass)},mouseleave:function(){b.removeClass(e.hoverClass);b.removeClass(e.activeClass)},
"mousedown touchbegin":function(){a.is(":disabled")||b.addClass(e.activeClass)},"mouseup touchend":function(){b.removeClass(e.activeClass)}})}function c(a,b){a.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass)}function i(a,b,e){var c=b.is(":checked");b.prop?b.prop("checked",c):c?b.attr("checked","checked"):b.removeAttr("checked");b=e.checkedClass;c?a.addClass(b):a.removeClass(b)}function a(a,b,e){e=e.disabledClass;b.is(":disabled")?a.addClass(e):a.removeClass(e)}function e(a,b,e){switch(e){case "after":return a.after(b),
a.next();case "before":return a.before(b),a.prev();case "wrap":return a.wrap(b),a.parent()}return null}function k(c,k,g){var d,i,l;g||(g={});g=b.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},g);d=b("<div />");i=b("<span />");k.autoHide&&c.is(":hidden")&&c.css("display")==="none"&&d.hide();g.divClass&&d.addClass(g.divClass);g.spanClass&&i.addClass(g.spanClass);l=j(c,"id");k.useID&&l&&j(d,"id",k.idPrefix+"-"+l);g.spanHtml&&i.html(g.spanHtml);d=e(c,d,g.divWrap);
i=e(c,i,g.spanWrap);a(d,c,k);return{div:d,span:i}}function g(){var a,e;e=b('<div style="width:0;height:0;color:rgb(120,2,153)">');b("body").append(e);a=e.get(0);a=window.getComputedStyle?window.getComputedStyle(a,"").color:(a.currentStyle||a.style||{}).color;e.remove();return a.replace(/ /g,"")!=="rgb(120,2,153)"}function m(a){if(a[0].multiple)return!0;a=j(a,"size");if(!a||a<=1)return!1;return!0}function l(){return!1}function u(a,b){d(a,b,{"selectstart dragstart mousedown":l});a.css({MozUserSelect:"none",
msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}function s(a,b,e){a=a.val();a===""?a=e.fileDefaultHtml:(a=a.split(/[\/\\]+/),a=a[a.length-1]);b.text(a)}function q(a,b,e){var c;c=[];a.each(function(){for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c.push({el:this,name:a,old:this.style[a]}),this.style[a]=b[a])});for(e();c.length;)a=c.pop(),a.el.style[a.name]=a.old}function o(a,b){q(a.parents().andSelf().not(":visible"),{visibility:"hidden",display:"block",position:"absolute"},
b)}function r(a,b){return function(){a.unwrap().unwrap().unbind(b.eventNamespace)}}var n=!0,w=!1,z=[{match:function(a){return a.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,g){var i,l,m,h,s;l=g.submitDefaultHtml;if(e.is(":reset"))l=g.resetDefaultHtml;h=e.is("a, button")?function(){return e.html()||l}:function(){var a;a=(a=j(e,"value"))?b("<span />").text(a).html():"";return a||l};m=k(e,g,{divClass:g.buttonClass,spanHtml:h()});i=m.div;f(e,i,g);s=!1;d(i,g,{"click touchend":function(){var a,
b;if(!s){s=!0;if(e[0].dispatchEvent){if(a=document.createEvent("MouseEvents"),a.initEvent("click",!0,!0),a=e[0].dispatchEvent(a),(jQuery.browser.msie||jQuery.browser.mozilla)&&e.is("a")&&a)a=j(e,"target"),b=j(e,"href"),!a||a==="_self"?document.location.href=b:window.open(b,a)}else e.click();s=!1}}});u(i,g);return{remove:function(){i.after(e);i.remove();e.unbind(g.eventNamespace);return e},update:function(){c(i,g);a(i,e,g);m.span.html(h())}}}},{match:function(a){return a.is(":checkbox")},apply:function(b,
e){var g,l,m;g=k(b,e,{divClass:e.checkboxClass});l=g.div;m=g.span;f(b,l,e);d(b,e,{"click touchend":function(){i(m,b,e)}});i(m,b,e);return{remove:r(b,e),update:function(){c(l,e);m.removeClass(e.checkedClass);i(m,b,e);a(l,b,e)}}}},{match:function(a){return a.is(":file")},apply:function(g,i){function l(){s(g,o,i)}var m,h,o,n;m=k(g,i,{divClass:i.fileClass,spanClass:i.fileButtonClass,spanHtml:i.fileButtonHtml,spanWrap:"after"});h=m.div;n=m.span;o=b("<span />").html(i.fileDefaultHtml);o.addClass(i.filenameClass);
o=e(g,o,"after");j(g,"size")||j(g,"size",h.width()/10);f(g,h,i);l();b.browser.msie?d(g,i,{click:function(){g.trigger("change");setTimeout(l,0)}}):d(g,i,{change:l});u(o,i);u(n,i);return{remove:function(){o.remove();n.remove();return g.unwrap().unbind(i.eventNamespace)},update:function(){c(h,i);s(g,o,i);a(h,g,i)}}}},{match:function(a){if(a.is("input"))return" color date datetime datetime-local email month number password search tel text time url week ".indexOf((" "+j(a,"type")+" ").toLowerCase())>=
0;return!1},apply:function(a){var b=j(a,"type");a.addClass(b);return{remove:function(){a.removeClass(b)},update:l}}},{match:function(a){return a.is(":radio")},apply:function(e,g){var l,m,h;l=k(e,g,{divClass:g.radioClass});m=l.div;h=l.span;f(e,m,g);d(e,g,{"click touchend":function(){b.uniform.update(b(':radio[name="'+j(e,"name")+'"]'))}});i(h,e,g);return{remove:r(e,g),update:function(){c(m,g);i(h,e,g);a(m,e,g)}}}},{match:function(a){if(a.is("select")&&!m(a))return!0;return!1},apply:function(e,g){var i,
l,m,h;g.selectAutoWidth&&o(e,function(){h=e.width()});i=k(e,g,{divClass:g.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"});l=i.div;m=i.span;g.selectAutoWidth?o(e,function(){var a;a=m.outerWidth()-m.width();l.width(h+a);m.width(h)}):(l.addClass("fixedWidth"),l.children("select").width()<200&&(l.css("width","200px"),l.children("select").css("width","198px")),l.css("width",l.width()-10+"px"));f(e,l,g);d(e,g,{change:function(){m.html(e.find(":selected").html());
l.removeClass(g.activeClass)},"click touchend":function(){var a=e.find(":selected").html();m.html()!==a&&e.trigger("change")},keyup:function(){m.html(e.find(":selected").html())}});u(m,g);return{remove:function(){m.remove();e.unwrap().unbind(g.eventNamespace);return e},update:function(){g.selectAutoWidth?(b.uniform.restore(e),e.uniform(g)):(c(l,g),m.html(e.find(":selected").html()),a(l,e,g))}}}},{match:function(a){if(a.is("select")&&m(a))return!0;return!1},apply:function(a,b){a.addClass(b.selectMultiClass);
return{remove:function(){a.removeClass(b.selectMultiClass)},update:l}}},{match:function(a){return a.is("textarea")},apply:function(a,b){a.addClass(b.textareaClass);return{remove:function(){a.removeClass(b.textareaClass)},update:l}}}];b.browser.msie&&b.browser.version<7&&(n=!1);b.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",
fileClass:"uploader",fileDefaultHtml:language.text("form.chooseFile"),filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0},elements:[]};b.fn.uniform=function(a){var e=this,a=b.extend({},b.uniform.defaults,a);w||(w=!0,g()&&(n=!1));if(!n)return this;a.resetSelector&&b(a.resetSelector).mouseup(function(){window.setTimeout(function(){b.uniform.update(e)},
10)});return this.each(function(){var e=b(this),c,g;if(e.data("uniformed"))b.uniform.update(e);else for(c=0;c<z.length;c+=1)if(g=z[c],g.match(e,a)){c=g.apply(e,a);e.data("uniformed",c);b.uniform.elements.push(e.get(0));break}})};b.uniform.restore=b.fn.uniform.restore=function(a){if(a===h)a=b.uniform.elements;b(a).each(function(){var a=b(this),e;if(e=a.data("uniformed"))e.remove(),e=b.inArray(this,b.uniform.elements),e>=0&&b.uniform.elements.splice(e,1),a.removeData("uniformed")})};b.uniform.update=
b.fn.uniform.update=function(a){if(a===h)a=b.uniform.elements;b(a).each(function(){var a=b(this),e;(e=a.data("uniformed"))&&e.update(a,e.options)})}})(jQuery);
(function(b){function h(c){var d=c.data;c.isDefaultPrevented()||(c.preventDefault(),b(this).ajaxSubmit(d))}function j(c){var d=c.target,a=b(d);if(!a.is(":submit,input:image")){d=a.closest(":submit");if(d.length===0)return;d=d[0]}var e=this;e.clk=d;if(d.type=="image")c.offsetX!==void 0?(e.clk_x=c.offsetX,e.clk_y=c.offsetY):typeof b.fn.offset=="function"?(a=a.offset(),e.clk_x=c.pageX-a.left,e.clk_y=c.pageY-a.top):(e.clk_x=c.pageX-d.offsetLeft,e.clk_y=c.pageY-d.offsetTop);setTimeout(function(){e.clk=
e.clk_x=e.clk_y=null},100)}function d(){if(b.fn.ajaxSubmit.debug){var c="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(c):window.opera&&window.opera.postError&&window.opera.postError(c)}}var f={};f.fileapi=b("<input type='file'/>").get(0).files!==void 0;f.formdata=window.FormData!==void 0;b.fn.ajaxSubmit=function(c){function i(a){var a=b.param(a).split("&"),e=a.length,c={},g,k;for(g=0;g<e;g++)k=a[g].split("="),c[decodeURIComponent(k[0])]=
decodeURIComponent(k[1]);return c}function a(a){for(var e=new FormData,g=0;g<a.length;g++)e.append(a[g].name,a[g].value);if(c.extraData){var a=i(c.extraData),d;for(d in a)a.hasOwnProperty(d)&&e.append(d,a[d])}c.data=null;d=b.extend(!0,{},b.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:k||"POST"});if(c.uploadProgress)d.xhr=function(){var a=jQuery.ajaxSettings.xhr();if(a.upload)a.upload.onprogress=function(a){var b=0,e=a.loaded||a.position,g=a.total;a.lengthComputable&&(b=Math.ceil(e/
g*100));c.uploadProgress(a,e,g,b)};return a};d.data=null;var l=d.beforeSend;d.beforeSend=function(a,b){b.data=e;l&&l.call(this,a,b)};return b.ajax(d)}function e(a){function e(){function a(){try{var b=(n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document).readyState;d("state = "+b);b&&b.toLowerCase()=="uninitialized"&&setTimeout(a,50)}catch(e){d("Server abort: ",e," (",e.name,")"),g(y),x&&clearTimeout(x),x=void 0}}var c=m.attr("target"),l=m.attr("action");i.setAttribute("target",
s);k||i.setAttribute("method","POST");l!=f.url&&i.setAttribute("action",f.url);!f.skipEncodingOverride&&(!k||/post/i.test(k))&&m.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});f.timeout&&(x=setTimeout(function(){r=!0;g(A)},f.timeout));var h=[];try{if(f.extraData)for(var j in f.extraData)f.extraData.hasOwnProperty(j)&&(b.isPlainObject(f.extraData[j])&&f.extraData[j].hasOwnProperty("name")&&f.extraData[j].hasOwnProperty("value")?h.push(b('<input type="hidden" name="'+f.extraData[j].name+
'">').attr("value",f.extraData[j].value).appendTo(i)[0]):h.push(b('<input type="hidden" name="'+j+'">').attr("value",f.extraData[j]).appendTo(i)[0]));f.iframeTarget||(o.appendTo("body"),n.attachEvent?n.attachEvent("onload",g):n.addEventListener("load",g,!1));setTimeout(a,15);i.submit()}finally{l?i.setAttribute("action",l):i.removeAttribute("action"),c?i.setAttribute("target",c):m.removeAttr("target"),b(h).remove()}}function g(a){if(!p.aborted&&!B){try{t=n.contentWindow?n.contentWindow.document:n.contentDocument?
n.contentDocument:n.document}catch(e){d("cannot access response document: ",e),a=y}if(a===A&&p)p.abort("timeout"),v.reject(p,"timeout");else if(a==y&&p)p.abort("server abort"),v.reject(p,"error","server abort");else if(t&&t.location.href!=f.iframeSrc||r){n.detachEvent?n.detachEvent("onload",g):n.removeEventListener("load",g,!1);var a="success",c;try{if(r)throw"timeout";var k=f.dataType=="xml"||t.XMLDocument||b.isXMLDoc(t);d("isXml="+k);if(!k&&window.opera&&(t.body===null||!t.body.innerHTML)&&--D){d("requeing onLoad callback, DOM not available");
setTimeout(g,250);return}var i=t.body?t.body:t.documentElement;p.responseText=i?i.innerHTML:null;p.responseXML=t.XMLDocument?t.XMLDocument:t;if(k)f.dataType="xml";p.getResponseHeader=function(a){return{"content-type":f.dataType}[a]};if(i)p.status=Number(i.getAttribute("status"))||p.status,p.statusText=i.getAttribute("statusText")||p.statusText;var l=(f.dataType||"").toLowerCase(),m=/(json|script|text)/.test(l);if(m||f.textarea){var h=t.getElementsByTagName("textarea")[0];if(h)p.responseText=h.value,
p.status=Number(h.getAttribute("status"))||p.status,p.statusText=h.getAttribute("statusText")||p.statusText;else if(m){var u=t.getElementsByTagName("pre")[0],s=t.getElementsByTagName("body")[0];if(u)p.responseText=u.textContent?u.textContent:u.innerText;else if(s)p.responseText=s.textContent?s.textContent:s.innerText}}else if(l=="xml"&&!p.responseXML&&p.responseText)p.responseXML=E(p.responseText);try{C=F(p,l,f)}catch(q){a="parsererror",p.error=c=q||a}}catch(w){d("error caught: ",w),a="error",p.error=
c=w||a}p.aborted&&(d("upload aborted"),a=null);p.status&&(a=p.status>=200&&p.status<300||p.status===304?"success":"error");if(a==="success")f.success&&f.success.call(f.context,C,"success",p),v.resolve(p.responseText,"success",p),j&&b.event.trigger("ajaxSuccess",[p,f]);else if(a){if(c===void 0)c=p.statusText;f.error&&f.error.call(f.context,p,a,c);v.reject(p,"error",c);j&&b.event.trigger("ajaxError",[p,f,c])}j&&b.event.trigger("ajaxComplete",[p,f]);j&&!--b.active&&b.event.trigger("ajaxStop");f.complete&&
f.complete.call(f.context,p,a);B=!0;f.timeout&&clearTimeout(x);setTimeout(function(){f.iframeTarget||o.remove();p.responseXML=null},100)}}}var i=m[0],l,f,j,s,o,n,p,q,r,x;q=!!b.fn.prop;var v=b.Deferred();if(b(":input[name=submit],:input[id=submit]",i).length)return alert('Error: Form elements must not have name or id of "submit".'),v.reject(),v;if(a)for(l=0;l<h.length;l++)a=b(h[l]),q?a.prop("disabled",!1):a.removeAttr("disabled");f=b.extend(!0,{},b.ajaxSettings,c);f.context=f.context||f;s="jqFormIO"+
(new Date).getTime();f.iframeTarget?(o=b(f.iframeTarget),(a=o.attr("name"))?s=a:o.attr("name",s)):(o=b('<iframe name="'+s+'" src="'+f.iframeSrc+'" />'),o.css({position:"absolute",top:"-1000px",left:"-1000px"}));n=o[0];p={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var e=a==="timeout"?"timeout":"aborted";d("aborting upload... "+e);this.aborted=1;if(n.contentWindow.document.execCommand)try{n.contentWindow.document.execCommand("Stop")}catch(c){}o.attr("src",
f.iframeSrc);p.error=e;f.error&&f.error.call(f.context,p,e,a);j&&b.event.trigger("ajaxError",[p,f,e]);f.complete&&f.complete.call(f.context,p,e)}};(j=f.global)&&0===b.active++&&b.event.trigger("ajaxStart");j&&b.event.trigger("ajaxSend",[p,f]);if(f.beforeSend&&f.beforeSend.call(f.context,p,f)===!1)return f.global&&b.active--,v.reject(),v;if(p.aborted)return v.reject(),v;if(q=i.clk)if((a=q.name)&&!q.disabled)if(f.extraData=f.extraData||{},f.extraData[a]=q.value,q.type=="image")f.extraData[a+".x"]=i.clk_x,
f.extraData[a+".y"]=i.clk_y;var A=1,y=2;q=b("meta[name=csrf-token]").attr("content");if((a=b("meta[name=csrf-param]").attr("content"))&&q)f.extraData=f.extraData||{},f.extraData[a]=q;f.forceSync?e():setTimeout(e,10);var C,t,D=50,B,E=b.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null},G=b.parseJSON||function(a){return window.eval("("+
a+")")},F=function(a,e,c){var g=a.getResponseHeader("content-type")||"",k=e==="xml"||!e&&g.indexOf("xml")>=0,a=k?a.responseXML:a.responseText;k&&a.documentElement.nodeName==="parsererror"&&b.error&&b.error("parsererror");c&&c.dataFilter&&(a=c.dataFilter(a,e));typeof a==="string"&&(e==="json"||!e&&g.indexOf("json")>=0?a=G(a):(e==="script"||!e&&g.indexOf("javascript")>=0)&&b.globalEval(a));return a};return v}if(!this.length)return d("ajaxSubmit: skipping submit process - no element selected"),this;
var k,g,m=this;typeof c=="function"&&(c={success:c});k=this.attr("method");g=this.attr("action");(g=(g=typeof g==="string"?b.trim(g):"")||window.location.href||"")&&(g=(g.match(/^([^#]+)/)||[])[1]);c=b.extend(!0,{url:g,success:b.ajaxSettings.success,type:k||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);g={};this.trigger("form-pre-serialize",[this,c,g]);if(g.veto)return d("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&
c.beforeSerialize(this,c)===!1)return d("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var l=c.traditional;if(l===void 0)l=b.ajaxSettings.traditional;var h=[],j,q=this.formToArray(c.semantic,h);if(c.data)c.extraData=c.data,j=b.param(c.data,l);if(c.beforeSubmit&&c.beforeSubmit(q,this,c)===!1)return d("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[q,this,c,g]);if(g.veto)return d("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
this;g=b.param(q,l);j&&(g=g?g+"&"+j:j);c.type.toUpperCase()=="GET"?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+g,c.data=null):c.data=g;var o=[];c.resetForm&&o.push(function(){m.resetForm()});c.clearForm&&o.push(function(){m.clearForm(c.includeHidden)});if(!c.dataType&&c.target){var r=c.success||function(){};o.push(function(a){var e=c.replaceTarget?"replaceWith":"html";b(c.target)[e](a).each(r,arguments)})}else c.success&&o.push(c.success);c.success=function(a,b,e){for(var g=c.context||this,k=0,d=o.length;k<
d;k++)o[k].apply(g,[a,b,e||m,m])};j=b("input:file:enabled[value]",this).length>0;g=m.attr("enctype")=="multipart/form-data"||m.attr("encoding")=="multipart/form-data";l=f.fileapi&&f.formdata;d("fileAPI :"+l);var n;c.iframe!==!1&&(c.iframe||(j||g)&&!l)?c.closeKeepAlive?b.get(c.closeKeepAlive,function(){n=e(q)}):n=e(q):n=(j||g)&&l?a(q):b.ajax(c);m.removeData("jqxhr").data("jqxhr",n);for(j=0;j<h.length;j++)h[j]=null;this.trigger("form-submit-notify",[this,c]);return this};b.fn.ajaxForm=function(c){c=
c||{};c.delegation=c.delegation&&b.isFunction(b.fn.on);if(!c.delegation&&this.length===0){var i={s:this.selector,c:this.context};if(!b.isReady&&i.s)return d("DOM not ready, queuing ajaxForm"),b(function(){b(i.s,i.c).ajaxForm(c)}),this;d("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}if(c.delegation)return b(document).off("submit.form-plugin",this.selector,h).off("click.form-plugin",this.selector,j).on("submit.form-plugin",this.selector,c,h).on("click.form-plugin",
this.selector,c,j),this;return this.ajaxFormUnbind().bind("submit.form-plugin",c,h).bind("click.form-plugin",c,j)};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(c,d){var a=[];if(this.length===0)return a;var e=this[0],k=c?e.getElementsByTagName("*"):e.elements;if(!k)return a;var g,m,l,h,j,q;g=0;for(q=k.length;g<q;g++)if(j=k[g],l=j.name)if(c&&e.clk&&j.type=="image")!j.disabled&&e.clk==j&&(a.push({name:l,value:b(j).val(),type:j.type}),
a.push({name:l+".x",value:e.clk_x},{name:l+".y",value:e.clk_y}));else if((h=b.fieldValue(j,!0))&&h.constructor==Array){d&&d.push(j);m=0;for(j=h.length;m<j;m++)a.push({name:l,value:h[m]})}else if(f.fileapi&&j.type=="file"&&!j.disabled)if(d&&d.push(j),h=j.files,h.length)for(m=0;m<h.length;m++)a.push({name:l,value:h[m],type:j.type});else a.push({name:l,value:"",type:j.type});else h!==null&&typeof h!="undefined"&&(d&&d.push(j),a.push({name:l,value:h,type:j.type,required:j.required}));if(!c&&e.clk&&(k=
b(e.clk),g=k[0],(l=g.name)&&!g.disabled&&g.type=="image"))a.push({name:l,value:k.val()}),a.push({name:l+".x",value:e.clk_x},{name:l+".y",value:e.clk_y});return a};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(c){var d=[];this.each(function(){var a=this.name;if(a){var e=b.fieldValue(this,c);if(e&&e.constructor==Array)for(var k=0,g=e.length;k<g;k++)d.push({name:a,value:e[k]});else e!==null&&typeof e!="undefined"&&d.push({name:this.name,value:e})}});
return b.param(d)};b.fn.fieldValue=function(c){for(var d=[],a=0,e=this.length;a<e;a++){var k=b.fieldValue(this[a],c);k===null||typeof k=="undefined"||k.constructor==Array&&!k.length||(k.constructor==Array?b.merge(d,k):d.push(k))}return d};b.fieldValue=function(c,d){var a=c.name,e=c.type,k=c.tagName.toLowerCase();d===void 0&&(d=!0);if(d&&(!a||c.disabled||e=="reset"||e=="button"||(e=="checkbox"||e=="radio")&&!c.checked||(e=="submit"||e=="image")&&c.form&&c.form.clk!=c||k=="select"&&c.selectedIndex==
-1)){if(e=="checkbox"&&(a=c.getAttribute("no-value")))return a;return null}if(k=="select"){var g=c.selectedIndex;if(g<0)return null;for(var a=[],k=c.options,f=(e=e=="select-one")?g+1:k.length,g=e?g:0;g<f;g++){var l=k[g];if(l.selected){var h=l.value;h||(h=l.attributes&&l.attributes.value&&!l.attributes.value.specified?l.text:l.value);if(e)return h;a.push(h)}}return a}return b(c).val()};b.fn.clearForm=function(c){return this.each(function(){b("input,select,textarea",this).clearFields(c)})};b.fn.clearFields=
b.fn.clearInputs=function(c){var d=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,e=this.tagName.toLowerCase();if(d.test(a)||e=="textarea")this.value="";else if(a=="checkbox"||a=="radio")this.checked=!1;else if(e=="select")this.selectedIndex=-1;else if(c&&(c===!0&&/hidden/.test(a)||typeof c=="string"&&b(this).is(c)))this.value=""})};b.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||
typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})};b.fn.enable=function(b){b===void 0&&(b=!0);return this.each(function(){this.disabled=!b})};b.fn.selected=function(c){c===void 0&&(c=!0);return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio")this.checked=c;else if(this.tagName.toLowerCase()=="option")d=b(this).parent("select"),c&&d[0]&&d[0].type=="select-one"&&d.find("option").selected(!1),this.selected=c})};b.fn.ajaxSubmit.debug=!1})(jQuery);
(function(b){function h(a,e){this.settings=b.extend(!0,{},b.valid.defaults,a);this.content=e;this.form=this.content.is("form")?this.content:this.content.closest("form");if(this.form.length&&!this.settings.enableEvent){this.btnSub=this.form.find(this.settings.submitBtn);var c=this;this.btnSub.on("click",function(){var a=b(this);a.attr("disabled")=="true"||a.attr("disabled")=="disabled"||c.form.submit();return!1});if(!this.settings.validate)return this}this.init();return this}function j(a,e){var c=
0,g=a[0].getAttribute("hasChinese"),g=g=="true"?!0:!1,d,f;g?(d=a[0].getAttribute("chineseUnitLength"),f=language.text("validator.unitLength.chinese",[d])):f=language.text("validator.unitLength");if(e!=null&&b.trim(e)!="")if(g)if(b.isNumeric(d)){d=parseInt(d);c=[];for(g=0;g<d;g++)c.push("*");c=b.trim(e).replace(/[^\x00-\xff]/g,c.join("")).length}else c=b.trim(e).replace(/[^\x00-\xff]/g,"***").length;else c=b.trim(e).length;return{length:c,lastMag:f}}function d(a){var e=a.getAttribute("unUseChars");
if(e!=null)return e;if(a.getAttribute("vtype")==null||a.getAttribute("vtype").indexOf("common")<0)return null;var c=a.getAttribute("excludeChars"),g=a.getAttribute("includeChars"),e=b.valid.method.ASCII_UN_USE||f;if(g!=null)for(var d=0;d<g.length;d++)var l=g.charAt(d),e=e.indexOf(l)>-1?e:e+l;if(c!=null)for(d=0;d<c.length;d++)e=e.replace(c.charAt(d),"");a.setAttribute("unUseChars",e);return e}var f="\\/:*?\"<|'&%>",c={required:{validator:function(a){return(a&&a.length)>0},msg:language.text("validator.required"),
info:""},num:{validator:function(a){return/^\d+$/.test(a)},msg:language.text("validator.number"),info:language.text("info.number")},numDN:{validator:function(a){return a-parseFloat(a)>=0},msg:language.text("validator.number"),info:language.text("info.number")},numD:{validator:function(a){return a-parseFloat(a)>=0&&!/[.]/.test(parseFloat(a))},msg:language.text("validator.noAllowDecimals"),info:language.text("info.number.allowD")},numN:{validator:function(a){return a-parseFloat(a)>=0&&!/[-]/.test(a)},
msg:language.text("validator.noAllowNegative"),info:language.text("info.number.allowN")},unusechars:{validator:function(a,b){for(var c=a.length;a[--c];)if(~b.indexOf(a[c]))return!1;return!0},msg:language.text("validator.common"),info:language.text("validator.common")},maxValue:{validator:function(a,b){return parseFloat(a)<=parseFloat(b)},msg:language.text("validator.maxValue"),info:language.text("info.number.max")},minValue:{validator:function(a,b){return parseFloat(a)>=parseFloat(b)},msg:language.text("validator.minValue"),
info:language.text("info.number.min")},maxLength:{validator:function(a,b){return j(this.currentElements,a).length<=b},msg:language.text("validator.maxLength"),info:language.text("validator.maxLength")},minLength:{validator:function(a,b){return j(this.currentElements,a).length>=b},msg:language.text("validator.minLength"),info:language.text("validator.minLength")},email:{validator:function(a){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(a)},msg:language.text("validator.email"),
info:language.text("info.email")},mobile:{validator:function(a){return/^[1][1-9][0-9]{9}$/.test(a)},msg:language.text("validator.mobile"),info:language.text("info.mobile")},tel:{validator:function(a){var e=[/^[0][1-9][0-9]{1,2}-[1-9]{1}[0-9]{6,8}$/,/^[0][1-9][0-9]{1,2}-[1-9]{1}[0-9]{6,8}-[0-9]{2,4}$/,/^(?:(?:400[6-8]{1})-(?:\d{3})-(?:\d{3}))$/,/^(?:(?:400)-(?:\d{4})-(?:\d{3}))$/,/^(?:(?:400)-(?:\d{3})-(?:\d{4}))$/,/^[1-9]{1}[0-9]{6,8}$/,/^(?:(?:400)(?:\d{3})(?:\d{4}))$/];if(a==null)return!0;for(var a=
b.trim(a),c=0;c<e.length;c++){var g=e[c].test(a);if(g)return g}return!1},msg:language.text("validator.tel"),info:language.text("info.tel")},atel:{validator:function(a){if(a==null)return!0;a=b.trim(a);return/^(?:1[3,5,8,7]{1}[\d]{9})|(?:(?:(?:400)-(?:\d{3})-(?:\d{4}))|^(?:(?:\d{7,8})|(?:\d{4}|\d{3})-(?:\d{7,8})|(?:\d{4}|\d{3})-(?:\d{3,7,8})-(?:\d{4}|\d{3}|\d{2}|\d{1})|(?:\d{7,8})-(?:\d{4}|\d{3}|\d{2}|\d{1}))$)$/.test(a)},msg:"",info:language.text("info.tel")},personID:{validator:function(a){var b=
[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],c=0,g,d,f,i;if(a.length==15){if(g="19"+a.substr(6,2),d=a.substr(8,2),f=a.substr(10,2),i="19"+a.substr(6,6),!/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/.test(a))return!1}else{g=a.substr(6,4);d=a.substr(10,2);f=a.substr(12,2);i=a.substr(6,8);if(!/^[1-9]\d{5}(19\d{2}|[2-9]\d{3})((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])(\d{4}|\d{3}X)$/i.test(a))return!1;for(var h=0;h<a.length-1;h++)c+=a[h]*b[h];b="10X98765432"[c%11];if(a[a.length-1].toUpperCase()!==b)return!1}if({11:"\u5317\u4eac",
12:"\u5929\u6d25",13:"\u6cb3\u5317",14:"\u5c71\u897f",15:"\u5185\u8499\u53e4",21:"\u8fbd\u5b81",22:"\u5409\u6797",23:"\u9ed1\u9f99\u6c5f",31:"\u4e0a\u6d77",32:"\u6c5f\u82cf",33:"\u6d59\u6c5f",34:"\u5b89\u5fbd",35:"\u798f\u5efa",36:"\u6c5f\u897f",37:"\u5c71\u4e1c",41:"\u6cb3\u5357",42:"\u6e56\u5317",43:"\u6e56\u5357",44:"\u5e7f\u4e1c",45:"\u5e7f\u897f",46:"\u6d77\u5357",50:"\u91cd\u5e86",51:"\u56db\u5ddd",52:"\u8d35\u5dde",53:"\u4e91\u5357",54:"\u897f\u85cf",61:"\u9655\u897f",62:"\u7518\u8083",63:"\u9752\u6d77",
64:"\u5b81\u590f",65:"\u65b0\u7586",71:"\u53f0\u6e7e",81:"\u9999\u6e2f",82:"\u6fb3\u95e8",91:"\u56fd\u5916"}[parseInt(a.substr(0,2))]==null)return!1;if(i!=function(a){if(a instanceof Date){var b=a.getFullYear(),e=a.getMonth()+1,e=e<10?"0"+e:e,a=a.getDate();return""+b+e+(a<10?"0"+a:a)}return""}(new Date(g+"/"+d+"/"+f)))return!1;return!0},msg:language.text("validator.personID"),info:language.text("info.personID")},ip:{validator:function(a){return/^(?:([1-9]?\d|1\d\d|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d\d|2[0-4]\d|25[0-5])$/.test(a)},
msg:language.text("validator.ip"),info:language.text("info.ip")},url:{validator:function(a){return/^((https?|s?ftp):\/\/)?(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/.test(a)},
msg:language.text("validator.url"),info:language.text("info.url")},ipUrl:{validator:function(a){return/^(?:([1-9]?\d|1\d\d|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d\d|2[0-4]\d|25[0-5])$/.test(a)||/^((https?|s?ftp):\/\/)?(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/.test(a)},
msg:language.text("validator.ipUrl"),info:language.text("info.ipUrl")},mac:{validator:function(a){var b="",c=0,g=0,b=a.indexOf("-")>-1?"-":":";if(a.indexOf(b)<0||a.toLowerCase()=="ff"+b+"ff"+b+"ff"+b+"ff"+b+"ff"+b+"ff"||a.toLowerCase()=="00"+b+"00"+b+"00"+b+"00"+b+"00"+b+"00")return!1;a=a.split(b);if(a.length!=6)return!1;for(c=0;c<6;c++){if(a[c]=="")return!1;if(a[c].length!=2)return!1;for(g=0;g<a[c].length;g++)if(b=a[c].toLowerCase().charAt(g),!(b>="0"&&b<="9"||b>="a"&&b<="f"))return!1}if(parseInt(a[0],
16)%2==1)return!1;return!0},msg:language.text("validator.mac"),info:language.text("info.mac")},regex:{validator:function(a,b){return RegExp(b).test(a)},msg:"",info:""},ajax:{validator:function(a,e,c,g,d){var f=this;typeof g=="function"&&g.call(f,c);b.ajax({url:e,data:a,dataType:"json",success:function(a){if(!a.success)return f.showValidate(c,a.msg),a.msg;return!0},error:function(){return!1},complete:function(a){b.parseJSON(a.responseText);typeof d=="function"&&d.call(f,c,a.msg)}});return"ajax"},msg:"",
info:""}};b.vtype=c;b.vtype.ASCII_UN_USE="";var i=function(){var a={tip:function(a,b){var c=b.target,d;c.closest(".controls").css("position","relative");var f;f=c.position();f={width:c.outerWidth(),height:c.outerHeight(),left:f.left,top:f.top};var i=b.position||"topLeft";a.outerWidth();d=a.outerHeight();a.addClass(b.type);c.attr("tipwidth")?(d=c.attr("tipwidth"),a.css("width",d)):a.css("max-width",f.width);switch(i){default:i=f.left;a.css("left",i);d=a.outerHeight();c=f.top-d-3;break;case "topRight":i=
f.left+f.width-60;a.css("left",i);d=a.outerHeight();c=f.top-d-3;break;case "bottomLeft":i=f.left;a.css("left",i);a.outerHeight();c=f.top+c.outerHeight()+3;a.addClass("bottomTip");break;case "bottomRight":i=f.left+f.width-60;a.css("left",i);a.outerHeight();c=f.top+c.outerHeight()+3;a.addClass("bottomTip");break;case "flexible":i=f.left,a.css("left",i),d=a.outerHeight(),f.top-d-3<0?(c=f.top+c.outerHeight()+3,a.addClass("bottomTip")):c=f.top-d-3}a.css({left:i,top:c,position:"absolute"}).show()}};return{show:function(b){var c=
b.data("tips");a[c.type](b,c)}}}();b.extend(b.fn,{ajaxForm:function(a){for(var e=0,c=this.length;e<c;e++){var d=b.data(this[e],"valid");d||(d=new h(a,this.eq(e)),this.eq(e).data("valid",d))}},rules:function(){var a=this.data("rules"),e,c={};if(!a){e=this.get(0);a=e.name;(e=b.data(e.form?e.form:this.closest("form"),"valid")?b.data(e.form?e.form:this.closest("form"),"valid"):b.data(e,"valid"))&&(c=e.settings.rules[a]);a={};this.val();e=this[0].getAttribute("required");var g=this.attr("vtype")?this.attr("vtype").split(","):
[];(e=="required"||e=="true"||e==!0)&&g.push("required");this.attr("vtype")&&/number/gi.test(this.attr("vtype"))&&(!this.attr("allowDecimals")!="true"&&!this.attr("allowNegative")!="true"?g.push("numDN"):!this.attr("allowDecimals")!="true"&&this.attr("allowNegative")!="true"?g.push("numN"):this.attr("allowDecimals")!="true"&&!this.attr("allowNegative")!="true"?g.push("numD"):g.push("num"));this.attr("minValue")&&g.push("minValue");this.attr("maxValue")&&g.push("maxValue");(this.attr("minLength")||
this.attr("min-length"))&&g.push("minLength");(this.attr("maxLength")||this.attr("max-length"))&&g.push("maxLength");d(this[0])!=null&&g.push("unusechars");this.attr("vtype",g.join(","));b.extend(!0,a,c,b.valid.getElementRules(this));this.data("rules",a)}return a},validate:function(a){for(var e=!0,c=0,d=this.length;c<d;c++){var f,i=b.data(this[c],"valid");if(i){if(typeof a=="string")if(f=i[a])f.call(i,this);else throw Error("Valid has no Function: "+a);}else i=this.eq(c).is("form")?new h(a||{},this.eq(c)):
new h(b.extend({enableEvent:!0},a||{}),this.eq(c)),this.data("valid",i);i.execute(this.eq(c))||(e=!1)}return e},showInfo:function(a){var e=b.data(this[0],"valid");e||(e=new h({enableEvent:!0},this),this.data("valid",e));e.createLabel(b(this),a,"info").show()},getUpdateinfo:function(){this.data("valid",null);this.data("rules",null);var a=[],e=this.rules(),c=b.valid.method,d;for(d in e)d!=="required"&&a.push(b.valid.parseStr(c[d].info,e[d]));this.data("vinfo",a.join(","))},clearValidate:function(){var a=
b.data(this[0],"valid");a||(a=new h({enableEvent:!0},this),this.data("valid",a));a.clearValidate(this)},showValidate:function(a){var e=b.data(this[0],"valid");e||(e=new h({enableEvent:!0},this),this.data("valid",e));e.getLabel(this,"error");e.showValidate(b(this),a)}});b.valid={defaults:{errorClass:"error",validClass:"valid",successClass:"success",infoClass:"info",errorElement:"label",infoElement:"label",successElement:"label",iskeyup:!1,bindSubmit:!0,errorContainer:".controls",validateTag:"input, textarea, select, .auto-input",
notvalidateTag:".notvalidate,[type=submit]",submitBtn:"[type=submit]",successIcon:"ico i-ok",errorIcon:"ico i-del",rules:{},message:{},focusClean:!0,validate:!0,ajaxSubmit:!0,ajaxopts:{type:"POST",dataType:"json"},onfocusin:function(a){var b=this.settings,c=a.attr("tips")||a.attr("isoverflown");b.focusClean&&b.unhighlight(a,b.errorClass,b.validClass);b=this.getInfo(a);b.length&&(this.createLabel(a,b,"info"),this.showInfo(a,c))},onfocusout:function(a){this.execute(a)},onkeyup:function(a,b){this.settings.iskeyup&&
this.element(a,b)},unhighlight:function(a,e,c){b(a).removeClass(e).addClass(c)},highlight:function(a,e,c){b(a).addClass(e).removeClass(c)}},parseStr:function(){var a=typeof arguments[0]=="function"?arguments[0]():arguments[0],b=Array.prototype.slice.call(arguments,1);return a.replace(/\$\[(\d+)\]/g,function(a,c){return b[c]})},getElementRules:function(a){var e={},c=b.valid.method,d=a.attr("vtype"),f=0;if(d)d=d.split(","),f=d.length;for(var i=0;i<f;i++)d[i]in c&&(e[d[i]]=a.attr(d[i])||!0);return e},
method:b.vtype};h.prototype={init:function(){var a=this;this.errorContext=b(this.content);this.pending={};this.pendingRequest=0;this.reset();this.validDelegate(this.settings.validateTag,"focusin focusout",function(b){var c="on"+b.type;a.settings[c]&&a.settings[c].call(a,this,b)});if(!this.settings.enableEvent){this.content.bind("validate",function(b,c,e){a.formSubmited=e?!0:!1;b=!0;a.execute()?a.pendingRequest!==0&&(b=!1):b=!1;c&&c(b)});var c=a.form.attr("id")?"#"+a.form.attr("id"):"";b(document).off(".valid",
c);b(document).on("submit.valid",c,function(d){if(c||b(d.target)[0]==a.content[0]){var g=!0;return a.settings.validate?(a.form.trigger("validate",[function(a){g=a},!0]),g?a.subform():(a.form.trigger("error").trigger("complete"),typeof jSticky==="function"&&jSticky(language.text("form.error"),{type:"error"}),!1)):a.subform()}})}},subform:function(){var a=this,c=this.settings.ajaxopts,d=b.now(),g,f;if(a.settings.ajaxSubmit&&a.form.length&&a.form.data("ajaxsubmiting")!=!0)return this.form.data("ajaxsubmiting",
!0),g=c.success?c.success:function(){},f=c.error?c.error:function(){},c=this.form.data("form-data")||{},c._ajax_submit=1,c=b.extend({},this.settings.ajaxopts,{url:this.form.attr("action"),type:this.form.attr("method"),data:c,global:!0,success:function(b){if(b!=null){if(b.fieldErrors||b.actionErrors){var c="",e;for(e in b.fieldErrors){var d=a.form.find('[name="'+e+'"]');d.length&&d.showValidate(b.fieldErrors[e][0]);d.length||(c=function(){var a=b.fieldErrors[e][0];return/^ignore-msg/.test(a)?language.text("form.error"):
a.replace(/^ignore-msg/g,"")})}if(!b.actionErrors||!b.actionErrors.length)a.form.attr("no-fieldError")!=="true"&&typeof jSticky==="function"&&jSticky(c||language.text("form.error"),{type:"error"});else if(a.form.attr("no-actionError")!=="true")for(c=0;c<b.actionErrors.length;c++)typeof jSticky==="function"&&jSticky(b.actionErrors[c],{type:"error"});a.form.trigger("error",b,b.fieldErrors,b.actionErrors)}else if(a.form.trigger("success",b),a.form.attr("next"))a.form.attr("next-method")==="get"?location.href=
a.form.attr("next"):(a.form.attr("action",a.form.attr("next")),a.form[0].submit());g.call(a.form,b,a.form)}a.form.removeData("ajaxsubmiting")},error:function(b){a.form.trigger("error",{},{},{});f.call(a.form,b,a.form);a.form.removeData("ajaxsubmiting")},complete:function(){a.form.trigger("complete");a.form.removeData("ajaxsubmiting")}}),c.url+=(!~c.url.indexOf("?")?"?":"&")+"_time="+d,this.form.ajaxSubmit(c),!1;else if(a.form.length&&a.form.data("ajaxsubmiting"))return!1;else if(a.settings.selfSubmit)return a.form.trigger("validateSuccess"),
!1;return!0},reset:function(){this.errorList=[];this.errorMap={};this.currentElements=b([])},validDelegate:function(a,c,d){var g=this;return this.content.bind(c,function(c){var e=b(c.target);!e.is(g.settings.notvalidateTag)&&e.is(a)&&!g.settings.enableEvent&&d.call(e,c)})},getLabel:function(a,b){return this.getErrorContainer(a).find("#tooltip."+b)},check:function(a){var c=a.rules(),d=a.attr("auto-trim"),g=this.getValue(a),f;if(d!=="false"&&(a[0].tagName.toLowerCase()=="input"||a[0].tagName.toLowerCase()==
"textarea")&&(a[0].type.toLowerCase()=="text"||a[0].type.toLowerCase()=="textarea"))g=b.trim(g),a.val(g);if(g||"required"in c)for(var i in c){d={method:i,param:c[i]};try{f=b.valid.method[i].validator.call(this,g,c[i],a,this.startRequest,this.stopRequest);if(f=="ajax")break;if(f!=!0&&f!="true")return this.formatErrorResult(a,d,f),!1;else this.formatSuccessResult(a)}catch(h){return!1}}else this.formatSuccessResult(a);return!0},getValue:function(a){var c=b(a).attr("type"),d=b(a).val();if(c=="radio")return b('input[name="'+
a[0].name+'"]:checked',this.content).val();return d},getErrorContainer:function(a){var b=a.closest(this.settings.errorContainer);b.length==0&&(b=a.parent().parent());return b},createLabel:function(a,c,d){var g=this.settings,f=d+"Class",i=d+"Element",h=this.getLabel(a,d),j;if(!(a.attr("vtype")==""||a.attr("vtype")==void 0||a.attr("vtype")=="undefined")||a.attr("showtooltip")==!0||a.attr("showtooltip")=="true"){h.length||(h=b('<div id="tooltip" style="display:none;"></div>'),h.html('<span class="state" style="display:none;"></span><'+
g[i]+' for="'+a[0].name+'" class="mess">'));i=this.getErrorContainer(a);h.appendTo(i);i=a.attr("vicon");j={type:d,target:a,icon:i};h.addClass(g[f]).data("vdata",j);g=h.find(".mess");g.html((i?"":c)+'<i class="arrow"><b></b></i>');if((a.attr("data-icon")||a.attr("onlystate"))&&d!=="info")g.hide(),h.find(".state").show();return h}},elementShow:function(a){var c=this;a.each(function(){var a=b(this);a.data("vdata");c.getPos(a).type?i.show(a):a.show()})},getPos:function(a){var b,c=a.data("vdata"),d=c.target;
b||(b={type:d.attr("isoverflown")?"tip":d.attr("tips"),position:d.attr("tips-pos")||d.attr("promptposition"),target:c.target},a.data("tips",b),c.type=="error"&&c.icon&&delete b.type);return b},formatErrorResult:function(a,c,d){var g=a[0].id||a[0].name,d=d!=!1?d:this.getMessage(a,c.method),f=!1;if(!g)throw Error("warn:please set a name or id for basic element!");d=b.valid.parseStr(d,c.param);for(c=0;c++;)if(a===this.errorList[c].element||g==this.errorList[c].element[0].name){f=!0;this.errorList[c].message=
d;this.errorMap[c][g]=d;break}f||(this.errorList.push({message:d,element:a}),this.errorMap[g]=d)},formatSuccessResult:function(a){var b=a[0].name;if(a[0].type!=="hidden"){a.is("form")||this.settings.unhighlight(a,this.settings.errorClass,this.settings.validClass);for(var c=0,d=this.errorList.length;c<d;c++)if(a===this.errorList[c].element||b==this.errorList[c].element[0].name){this.errorList.splice(c,1);delete this.errorMap[b];break}}},domElement:function(a){return b(a)[0]},getMessage:function(a,
c){var d=this.settings.message,g=a[0].name,f=a.attr("vm"+c)||a.attr("regexerror")||a.data("regexerror"),i;c=="minLength"||c=="maxLength"?(i=j(a,a.val()),i=b.valid.method[c].msg+i.lastMag):i=b.valid.method[c].msg;return f||d[g]&&d[g][c]||i},getInfo:function(a){var c=a.data("vinfo")||a.attr("vinfo")||a.data("regexinfo")||a.attr("regexinfo")||a.attr("self-focus-info"),d,g,f,i;d=[];if(!c){c=[];d=a.rules();g=b.valid.method;for(f in d)if(f!=="required")f=="minLength"||f=="maxLength"?(i=j(a,""),i=g[f].info+
i.lastMag):i=g[f].info,c.push(b.valid.parseStr(i,d[f]));d=c.join(",").split(",");c=0;for(f=d.length;c<f;c++)for(g=c+1;g<f;g++)d[c]==d[g]&&d.splice(c,1);c=d;a.data("vinfo",c.join(","))}return c},execute:function(a){var b,c=!0,d,f=!0,i=!1;(d=a)&&a.is("form")?d=a.find(this.settings.validateTag).not(this.settings.notvalidateTag):a||(d=this.content.find(this.settings.validateTag).not(this.settings.notvalidateTag));a=0;for(b=d.length;a<b;a++){this.currentElements=d.eq(a);if(this.currentElements[0].type==
"hidden")c=!0;else{c=this.check(this.currentElements);rules=this.currentElements.rules();for(var h in rules)if(rules.hasOwnProperty(h)){i=!0;break}i&&this.showValidate(this.currentElements,c)}c||(f=!1)}return f},showValidate:function(a,b){var c=this.settings,d=a[0].id||a[0].name,f=a.attr("tips")||a.attr("isoverflown");b==!0||b=="true"?((a.attr("data-icon")||a.attr("onlystate"))&&this.createLabel.call(this,a,"","success"),this.showSuccess(a,f)):(c.highlight&&c.highlight(a,c.errorClass,c.validClass),
this.createLabel.call(this,a,b!=!1&&b!="false"?b:this.errorMap[d],"error"),this.showError(a,f))},clearValidate:function(a){typeof a=="string"&&(a=b(a));if(a[0].nodeName.toLowerCase()==="form"){var a=a.find(this.settings.validateTag).not(this.settings.notvalidateTag),c,d;c=0;for(d=a.length;c<d;c++)this.getLabel(a.eq(c),"error").hide(),this.getLabel(a.eq(c),"success").hide(),a.eq(c).removeClass("error")}else this.getLabel(a,"error").hide(),this.getLabel(a,"success").hide(),a.removeClass("error")},showError:function(a,
b){this.getLabel(a,"info").hide();this.getLabel(a,"success").hide();var c=this.getLabel(a,"error");b&&!a.attr("data-icon")&&!a.attr("onlystate")?this.getPos(c).type?i.show(c):c.show():a.attr("data-noIcon")?c.hide():c.show()},showInfo:function(a,b,c){var d=a.attr("vtype");d=="required"||d==void 0||(this.getLabel(a,"error").hide(),this.getLabel(a,"success").hide(),a=this.getLabel(a,"info",c),b&&d!=="required"?this.getPos(a).type?i.show(a):a.show():a.show())},showSuccess:function(a){this.getLabel(a,
"error").hide();this.getLabel(a,"info").hide();var b=this.getLabel(a,"success");a.attr("data-noIcon")?b.hide():b.show()},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},startRequest:function(a){this.pending[a[0].id||a[0].name]||(this.pending[a[0].id||a[0].name]=!0,this.pendingRequest++)},focusInvalid:function(){this.errorList[0].element.focus()},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];b&&
this.pendingRequest==0&&this.formSubmited&&this.execute()?(this.content.submit(),this.formSubmited=!1):this.currentElements.triggerHandler("evInvalid",[this])}};b("textarea[maxLength],[max-length]").live({keydown:function(a){if(!(7<a.keyCode&&a.keyCode<47&&a.keyCode!=32)&&(a=this.getAttribute("maxLength")||this.getAttribute("max-length"),b.isNumeric(a))){var c=b.trim(this.value).length,a=parseInt(a);if(b.browser.msie){if(document.selection.createRange().text.length>0)return!0}else if(this.selectionEnd>
this.selectionStart)return!0;if(c>=a)return!1}}});b("[vtype*=number]").live({keypress:function(a){if(this.getAttribute("allowNegative")=="true"&&a.keyCode==45)return!0;if(this.getAttribute("allowDecimals")=="true"&&a.keyCode==46)return!0;var c=a.keyCode?a.keyCode:a.which;if(b.browser.msie||a.keyCode!=8)return c>=48&&c<=57},blur:function(){var a=this.value,a=a.replace(/\.$/,"");this.value=/^\d+(\.\d*)?$/.test(a)?a:""},paste:function(){if(window.clipboardData){var a=window.clipboardData.getData("text");
/\D/.test(a);this.value=a.replace(/^0*/,"")}return!1},dragenter:function(){return!1},keyup:function(){if(/(^0+)/.test(this.value)&&this.value.length>1){if(b(this).attr("filterZero")!="true")this.value=this.value.replace(/^0*/,"");b(this).trigger("change");b(this).trigger("focusin")}}}).css("ime-mode","disabled");b("[vtype*=common]").live({keydown:function(){d(this)},keypress:function(a){if(this.getAttribute("unUseChars").indexOf(String.fromCharCode(a.keyCode))>-1)return!1;return!0}});b(function(){b("textarea[maxLength],[max-length]").bind("paste",
function(){if(window.clipboardData){var a=window.clipboardData?window.clipboardData.getData("Text"):"",c=this.getAttribute("maxLength")||this.getAttribute("max-length");if(b.isNumeric(c)){var d=j(b(this),this.value),f=document.selection.createRange().text.length;d.length-f+a.length>c&&window.clipboardData.setData("Text",a.substring(0,c-(d.length-f)))}else window.clipboardData.setData("Text",a)}});b("body").bind("paste",function(a){a=a.target;if(a.getAttribute("hikui")=="calendar")return!1;var c=a.getAttribute("vtype"),
f=a.getAttribute("type"),g=a.getAttribute("not-validator-paste");if(!(f!="text"||!c||c.indexOf("common")<0||g==!0)){d(a);c=window.clipboardData?window.clipboardData.getData("Text"):"";a=a.getAttribute("unUseChars");for(f=0;f<c.length;f++)if(g=c.charAt(f),a.indexOf(g)>-1)return b.sticky(language.text("validator.paste")+a+language.text("validator.invalid"),{type:"attention"}),!1;return!0}})});b(function(){b('form[history="true"]').delegate('input[type="text"][not-use-char-code!=true]',{keypress:function(a){if((b.valid.method.ASCII_UN_USE||
f).indexOf(String.fromCharCode(a.keyCode))>-1)return!1;return!0}});b(".form-input").not(".noajaxForm").each(function(){b(this).ajaxForm()})})})(jQuery);typeof JSON!=="object"&&(JSON={});
(function(){function b(a){return a<10?"0"+a:a}function h(){return this.valueOf()}function j(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var b=e[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(b,c){var e,f,h,q,o=i,r,n=c[b];n&&typeof n==="object"&&typeof n.toJSON==="function"&&(n=n.toJSON(b));typeof k==="function"&&(n=k.call(c,b,n));switch(typeof n){case "string":return j(n);case "number":return isFinite(n)?String(n):
"null";case "boolean":case "null":return String(n);case "object":if(!n)return"null";i+=a;r=[];if(Object.prototype.toString.apply(n)==="[object Array]"){q=n.length;for(e=0;e<q;e+=1)r[e]=d(e,n)||"null";h=r.length===0?"[]":i?"[\n"+i+r.join(",\n"+i)+"\n"+o+"]":"["+r.join(",")+"]";i=o;return h}if(k&&typeof k==="object"){q=k.length;for(e=0;e<q;e+=1)typeof k[e]==="string"&&(f=k[e],(h=d(f,n))&&r.push(j(f)+(i?": ":":")+h))}else for(f in n)Object.prototype.hasOwnProperty.call(n,f)&&(h=d(f,n))&&r.push(j(f)+
(i?": ":":")+h);h=r.length===0?"{}":i?"{\n"+i+r.join(",\n"+i)+"\n"+o+"}":"{"+r.join(",")+"}";i=o;return h}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=h,Number.prototype.toJSON=h,String.prototype.toJSON=h;var f,c,i,a,e,k;if(typeof JSON.stringify!==
"function")c=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(b,c,e){var f;a=i="";if(typeof e==="number")for(f=0;f<e;f+=1)a+=" ";else typeof e==="string"&&(a=e);if((k=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw Error("JSON.stringify");return d("",{"":b})};if(typeof JSON.parse!==
"function")f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(a,b){function c(a,d){var e,f,i=a[d];if(i&&typeof i==="object")for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(f=c(i,e),f!==void 0?i[e]=f:delete i[e]);return b.call(a,d,i)}var d,a=String(a);f.lastIndex=0;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),typeof b==="function"?c({"":d},""):d;throw new SyntaxError("JSON.parse");}})();
function UserDataStorage(b){var h=document.createElement("div");h.style.display="none";h.style.behavior="url('#default#userData')";document.body.appendChild(h);if(b)b=(new Date).getTime()+b*1E3,h.expires=(new Date(b)).toUTCString();h.load("UserDataStorage");this.getItem=function(b){return h.getAttribute(b)||null};this.setItem=function(b,d){h.setAttribute(b,d);h.save("UserDataStorage")};this.removeItem=function(b){h.removeAttribute(b);h.save("UserDataStorage")}}
function CookieStorage(b,h){var j=function(){var b={},d=document.cookie;if(d==="")return b;for(var d=d.split("; "),a=0;a<d.length;a++){var e=d[a],f=e.indexOf("="),g=e.substring(0,f),e=e.substring(f+1),e=decodeURIComponent(e);b[g]=e}return b}(),d=[],f;for(f in j)d.push(f);this.length=d.length;this.key=function(b){if(b<0||b>=d.length)return null;return d[b]};this.getItem=function(b){return j[b]||null};this.setItem=function(c,f){c in j||(d.push(c),this.length++);j[c]=f;var a=c+"="+encodeURIComponent(f);
b&&(a+="; max-age="+b);h&&(a+="; path="+h);document.cookie=a};this.removeItem=function(b){if(b in j){delete j[b];for(var f=0;f<d.length;f++)if(d[f]===b){d.splice(f,1);break}this.length--;document.cookie=b+"=; max-age=0"}};this.clear=function(){for(var b=0;b<d.length;b++)document.cookie=d[b]+"=; max-age=0";j={};d=[];this.length=0}}
function hikStorage(b,h){if(b=="cookie")return new CookieStorage(h&&h.maxage,h&&h.path,h);else if(b=="session")if(typeof sessionStorage=="object")return sessionStorage;else throw Error("Local storage not avaliable.");else if(b=="local")if(typeof localStorage=="object")return localStorage;else if(typeof globalStorage=="object")return globalStorage[h&&h.domain||location.host];else throw Error("Local storage not avaliable.");else if(b=="global")if(typeof globalStorage=="object")return globalStorage[h&&
h.domain||location.host];else throw Error("Local storage not avaliable.");else if(b!="indexDB")return window.sessionStorage||window.UserDataStorage&&new UserDataStorage||new CookieStorage(h&&h.maxage,h&&h.path,h)}
$(function(){function b(){var b=$(this);b.attr("_ischanged","true");b.find(".form-actions>.bBack").bind("mousedown.updatealert",function(){var b=$(this),a=b.attr("href"),c=b.attr("target");b.attr("href","javascript:void(0);");for(var d=jQuery._data(this).events,f=0;d.click&&f<d.click.length;f++){var h=d.click[f];if(h.handleIndex==null)h.handleIndex=1,h.oldHandler=h.handler,h.handler=function(){var a=0,b=h.handler;h.setHandleIndex=function(b){a=b};return function(){if(a>0)return a-=1,b.apply(this,
arguments)}}()}jConfirm(language.text("form.change"),language.text("dialog.confirm"),function(f){if(f)if(a&&a!="javascript:void(0);"&&a!="javascript:void(0)"&&a!="#"&&a!="###")c=="_top"?top.location.href=a:c=="_parent"?parent.location.href=a:location.href=a;else{for(f=0;d.click&&f<d.click.length;f++){var g=d.click[f];g.setHandleIndex(1)}b.trigger("click",!0)}else{b.attr("href",a);for(f=0;d.click&&f<d.click.length;f++)g=d.click[f],g.setHandleIndex(0)}d=null;delete d})});b.unbind(".updatealert")}function h(){if($.trim(pt.cookieKey))return pt.cookieKey;
var b=document.location.pathname.split("?")[0];return decodeURI(b.substring(b.lastIndexOf("/")+1))}function j(){$("form[history=true]").$each(function(b,d){var a=$.absURL(d.attr("action")||location.href),e=a.lastIndexOf("/"),h=a.lastIndexOf("?"),g=null,g=$.browser.msie&&$.browser.version=="6.0"?JSON.parse(f.getItem(a.substring(e+1,h>-1?h:a.length+1))):JSON.parse(f.getItem(a));if(g!=null)for(b=0;b<g.length;b++)if(a=g[b],$.isPlainObject(a)&&!(a.value==null||a.value=="null"))e=d.find('[name="'+a.name+
'"]'),h=e.attr("type"),(e.length?e[0].tagName.toLowerCase():"")!="input"?e.val(a.value):(h=h.toLowerCase(),h=="checkbox"||h=="radio"?d.find('[name="'+a.name+'"][value="'+a.value+'"]').attr("checked","checked"):e.val(a.value))})}(function(){if(top.$.topNav)if($("body").hasClass("hide-navigation"))top.$.hideNav&&top.$.hideNav();else{var b=$.getCurrentFrames(),d=$(".auto-navigation");d.length&&top.$.topNav(d.clone(),b)}})();$("a[type=submit]").live("click",function(b){var b=$(b.target),d=b.attr("disabled");
if(!(d=="disabled"||d=="true")){"true"==b.attr("doDisable")&&b.attr("disabled","disabled");b=b.closest("form");if(!b.length)return!1;$.data(b[0],"subForm")||b.submit();return!1}});$.updatealert=b;$(function(){$("form.form-input").bind("change.updatealert",b).bind("keyup.updatealert",b)});$.getLocationPath=h;var d=$.cookie(h()+"filter-hide");$(".auto-filter").delegate('input[type="checkbox"]',"change",function(b){var f=$(b.target),a=f.attr("index"),e=f.attr("groupId"),b=f.parents(".filterForm:first"),
k=b.find("ul.formRow li.auto-by-filter:eq("+a+")"),g=b.find('ul.formRow li.auto-by-filter[data-group="'+e+'"]'),j=d,b=[];j&&j!="none"&&(b=j.split(","));j=b.indexOf(a);if(f.attr("checked"))j>-1&&b.splice(j,1),e?g.show():k.show();else if(j<0&&b.push(a),e?g.hide():k.hide(),f=k.find("input,select"),j=f.attr("type"),j=(j||"").toLowerCase(),k=k.attr("defaultValue")||"",j=="checkbox"){f.removeAttr("checked");a=k.split(",");for(j=0;j<a.length;j++)a[j]&&k&&f.filter('[value="'+$.trim(a[j])+'"]').attr("checked",
"checked")}else j=="radio"?(f.removeAttr("checked"),k&&f.filter('[value="'+k+'"]').attr("checked","checked")):!k&&$.nodeName(f.get(0),"select")?f.get(0).selectedIndex=0:f.val(k);d=b.join(",");d==""&&(d="none");$.cookie(h()+"filter-hide",d,{expires:180})}).each(function(b,f){var f=$(f),a=f.parents(".filterForm:first"),e=[],h=[],g=d,j=[],l=[];a.find("ul.formRow li.auto-by-filter").$each(function(a,b){var c=b.attr("data-group"),d=b.attr("data-label");g&&g!="none"?(l=g.split(","),l.indexOf(a)<0&&j.push(a)):
g=="none"?(l=[],j.push(a)):b.css("display")!="none"?j.push(a):l.push(a);if(c)if($.inArray(c,h)>=0)return;else h.push(c),b.addClass("clear");e.push('\n<li><a href="javascript:void(0);" data-stopPropagation="true">');e.push('<span class="check"><label><input defaultValue="'+(b.attr("defaultValue")||"")+'" type="checkbox"');b.css("display")!="none"&&e.push(' checked="checked"');e.push(' index="');e.push(a);e.push('"');c&&(e.push(' groupId="'),e.push(c),e.push('"'));e.push("><span>");var f=b.find("label").text(),
i=f.lastIndexOf(":")<0?f.lastIndexOf("\uff1a"):f.lastIndexOf(":");i&&(f=f.substring(0,i));c?e.push($.trim(d)):e.push($.trim(f));e.push("</span></label></span></a></li>")});f.append(e.join(""));for(a=0;a<j.length;a++)f.find('input[type="checkbox"]:eq('+j[a]+")").attr("checked","checked").trigger("change");for(a=0;a<l.length;a++)f.find('input[type="checkbox"]:eq('+l[a]+")").removeAttr("checked").trigger("change")});$(document).on("submit doSubmit","form[history=true]",function(){var b=$(this),d=$.absURL(b.attr("action")||
location.href),a=d.lastIndexOf("/"),e=d.lastIndexOf("?");$.browser.msie&&$.browser.version=="6.0"&&f?(f.removeItem(d.substring(a+1,e>-1?e:d.length+1)),f.setItem(d.substring(a+1,e>-1?e:d.length+1),JSON.stringify(b.formToArray()))):(f.removeItem(d),f.setItem(d,JSON.stringify(b.formToArray())));b.append('<input name="_history" type="hidden" value="true" />')});var f=window.sessionStorage||window.UserDataStorage&&new UserDataStorage||new CookieStorage;typeof pt!="undefined"&&(pt.history?j():$("form[history=true]").$each(function(b,
d){var a=$.absURL(d.attr("action")||location.href),e=a.lastIndexOf("/"),h=a.lastIndexOf("?");$.browser.msie&&$.browser.version=="6.0"?f.removeItem(a.substring(e+1,h>-1?h:a.length+1)):f.removeItem(a)}));$.fn.submitHistory=function(){var b=$.absURL(this.attr("action")||location.href),d=b.lastIndexOf("/"),a=b.lastIndexOf("?"),e=$.browser.msie&&$.browser.version=="6.0",h=null,h=e?JSON.parse(f.getItem(b.substring(d+1,a>-1?a:b.length+1))):JSON.parse(f.getItem(b));if(h!=null){for(var g=[],j=0;j<h.length;j++){var l=
h[j];if(l.value==null||l.value=="null")l.value="";l.name!="_history"&&!this.find('[name="'+l.name+'"]').length&&g.push('<input type="hidden" name="'+l.name+'" value="'+(l.value=="null"?"":l.value)+'" >')}this.append(g.join(""))}this.append('<input name="_history" type="hidden" value="true" />');e?f.setItem(b.substring(d+1,a>-1?a:b.length+1),JSON.stringify(this.formToArray())):f.setItem(b,JSON.stringify(this.formToArray()));this[0].submit()};$.history=function(b,d,a){a==null&&(a="_self");var e=$(['<form style="display:none;" action="',
b,'" target="',a,'"" method="post"></form>'].join("")),d=d||{};$.each(d,function(a,b){if(b!=null)if($.isArray(b))for(var c=0;c<b.length;c++)e.append("<input name="+a+" value="+b[c]+" >");else e.append("<input name="+a+" value="+b+" >")});e.appendTo("body");e.submitHistory()}});
